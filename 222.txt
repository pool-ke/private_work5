运行打光参数优化系统，可得到以上界面。
1）启动设备、连接相机
分别点击“启动设备”和“连接相机”后，系统方可正常工作。在电脑刚开机的时候，需启动以上运动控制界面，对机台进行复位。一般默认选择“相机二”，即拍取手机后盖上半部分的照片。
2）初始化粒子
在右上角的参数设置部分填写每个自由度的参数，点击“初始化粒子”方可初始化系统的状态，即对机台的X、Z、A三轴、面光源强度、侧光源强度、曝光时间等参数进行初始化设置。务必保证在初始设置参数的情况下能够分辨出图像中待检的感兴趣区域。
3）触发拍照
在已设置初始化参数的条件下，拍取工装上面手机后盖的照片，显示在图片上。如效果不理想，可重新初始化参数再触发拍照。
1）	添加ROI
在得到手机图片之后，可通过鼠标拖取分别选择手机图片上待检测的三个以内的感兴趣区域，后续优化算法基于选取的感兴趣区域进行计算。每添加一个ROI都可在下方三个画布中看到选取ROI的情况。
5）优化计算
选取ROI之后，在产品类型中选择产品的优化方案，默认种类一（由于不同的感兴趣区域对光的敏感性不一致，所以不同材质的产品需要设置不同的优化方案，比如针对类似耀石黑的产品，需选择种类一，对于MHA白系列需要选择种类二等），点击优化计算即可开始优化拍照参数，即不断迭代改变参数，优化感兴趣区域质量。优化算法流程图如下

（1）以复位点为起点，左右等间距偏置，共采集10个数据点为粒子群优化的起始值，每个数据点为三个维度（角度、纵向高度、横向距离）。（2）根据参数移动设备并拍摄照片，同时计算每个照片的清晰度目标函数值。（3）根据目标函数值的大小，依据粒子群更新算法，更新粒子。（4）保存更新过程中的局部最优值，同时更新全局最优粒子。（5）判断是否满足迭代停止条件（迭代次数大于15或连续三次目标函数变化值小于给定阈值），如果满足条件，输出最优粒子值，否则根据更新后的粒子重新拍照，进入下一轮的迭代。每次迭代更新一次每个粒子的值，并保存每个粒子更新路径中的最优值和总体的最优值，以保证总体往最优方向进行优化。