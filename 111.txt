论文具体工作为：
1.在Logo图像获取阶段，为了克服以往需要人为调节光源，耗费时间长的困难，设计并开发了基于粒子群优化算法的自动打光系统，实现了基于图像质量评价自动调节光源亮度以及光源位置的解决方案；
2.研究了多种图像质量评价方法，在大量数据下，验证与人为主观感知相一致的算法，最终确定以图像梯度信息的均值作为优化算法的评价函数；
3．获取图像后，为了得到降低背景噪声的干扰以及减少计算量，提出了基于图像灰度信息和基于图像特征点信息的待检感兴趣区域的自动选取，并以IOU作为ROI区域分割评价指标，在带位置标注的数据集上进行测试，实验结果在多个不同的数据集上，ROI区域提取的正确率在95%以上。
4.针对实际工业生产中正负样本极不平衡的情况，提出了基于卷积自编码神经网络的无监督学习方式来构建正样本模型，对输入样本进行异常检测。
5.为验证CAE网络提取特征的有效性，本文以常用的深度学习图像数据集MNIST为实验对象，通过CAE网络对训练集进行训练并提取中间全连接层的特征，在交叉验证的方式下，运用SVM、随机森林、Adaboost等传统分类器对全连接层特征的有效性进行评估，实验结果表明，三种分类器在MNIST数据集上的10分类任务平均准确率达到85%，即在CAE网络全连接层中的特征具有特异性。
6.尽可能的模拟实际中可能的情形，运用噪声干扰、对比度调整，角度旋转等方式进行数据增强，扩充训练集的规模。实验结果表明随着训练集的增加，模型的泛化性能有所提高，系统最终的识别精度也有所提高。
7.通过采用阈值分割，图像差分以及数学形态学等图像处理方法作为图像后处理的方式对输入图像进行异常检测与定位。
8.基于python、opencv、PyQt、tensorflow等技术开发了打光参数优化系统以及Logo图像的异常检测系统。
1.基于卷积自编码神经网络的图像异常检测
异常检测代码主要分为四个部分，包括网络结构定义、网络训练、网络测试与图像后处理四个部分。
网络结构定义主要用于定义网络的结构模型，采用的形式为卷积-池化-卷积-池化-全连接-反池化-反卷积。网络训练主要是导入训练ROI图像进行网络训练，调整网络参数。网络的数据输入形式较多，包括地址列表、cvs数据、TFrecorder等。在总结报告中，所有涉及到深度学习模型的项目中，都采用TFrecorder作为训练和测试样本数据导入格式。
测试代码主要是通过训练完成的模型重建测试样本，产生缺陷的粗糙定位。然后通过后处理的滤波、二值化与开运算产生缺陷的精确定位。
2.	打光参数优化算法

由于打光系统参数的不确定性影响，使得直接通过图像数据采集系统获取到的图像质量无法保证，后续难以实现有效的缺陷检测等任务。采用自动打光参数优化算法，获取同一产品的最优打光参数，对于保证后续的图像数据处理任务的顺利进行具有重要意义。在本场景中，由于我们本身就不知道某个产品它在最优打光参数下的图像质量，因此我们只能引入无参考图像的质量评价方法。在无参考图像的质量评价中，图像的清晰度是衡量图像质量优劣的重要指标，他能够较好的与人的主观感受相对应，图像的清晰度不高则表现出图像的模糊。
实验设计可参考https://blog.csdn.net/charlene_bo/article/details/72673490。即统计若干图片通过这些算法算的的分数，统计出与人的主观感知一致的算法。
2.1	目标函数

为保证打光参数优化算法的顺利进行，需要定义合适的优化目标函数，以确定优化的衡量指标。图像清晰度，是指影像上各细部纹理及其边界的清晰程度。图像的清晰度是衡量图像质量优劣的重要指标，它能够较好的与人的主观感受相对应，图像的清晰度不高表现出图像的模糊。影响图像质量的主要原因包括：对焦、相机抖动、光线不强等原因。对焦问题：工作相机会自动对焦相机抖动问题：工作相机固定在工作台上。光源问题: 影响因素-光源亮度、光谱功率分布、光的强度、入射角度、均匀度、偏振方向等。
影响图像清晰度评价指标：
Vollath函数-统计图像横向依次相邻像素乘积的和与图像总体像素平均值的差值。主要是为了突出图像的梯度细节。
基于统计特征的熵函数-衡量图像信息丰富程度的一个重要指标，有信息论可知，一幅图像的信息量是由该图像的信息熵来度量，根据Shannon信息论，熵最大时信息量最多。
Reblur 二次模糊-如果一幅图像已经模糊了，那么再对它进行一次模糊处理，高频分量变化不大；但如果原图是清楚的，对它进行一次模糊处理，则高频分量变化会非常大。因此可以通过对待评测图像进行一次高斯模糊处理，得到该图像的退化图像，然后再比较原图像和退化图像相邻像素值的变化情况，根据变化的大小确定清晰度值的高低，计算结果越小表明图像越清晰，反之越模糊。
Brenner 梯度函数：
Brenner梯度函数是最简单的梯度评价函数，它通过计算相邻两个像素灰度差的平方来表示图像清晰度。
Tenengrad 梯度函数：
Tenengrad 梯度函数采用Sobel算子分别提取水平和垂直方向的梯度值，然后统计梯度之和来表示图像清晰度。
Laplacian 梯度函数：
Laplacian 梯度函数与Tenengrad梯度函数基本一致，用Laplacian算子替代Sobel算子。
SMD（灰度方差）函数 ：
当完全聚焦时，图像最清晰，图像中的高频分量也最多，故可将灰度变化作为聚焦评价的依据，即对每个像素邻域两个灰度相减后再逐个累加。
方差函数 ：
因为清晰的图像有着比模糊图像更大的灰度差异， 故可以采用方差函数作为评估指标。
能量梯度函数： 
能量梯度函数更适合实时评价图像清晰度，即每个像素邻域两个灰度值相减平方后再逐个累加对每一个像素邻域两个灰度相乘后再逐个像素累加。
          项目中采用的目标函数为先对图像梯度，然后求梯度均值，最后1除以梯度均值。该优化目标函数主要是考察图像梯度的平均信息，以衡量图像的清晰程度。

2.2	优化算法

由于光源的参数难以与图像的清晰度评价建立直接的函数关系，项目的打光参数优化算法主要采用粒子群优化算法，避免了构建光源参数与优化目标函数之间的函数关系的难题。优化算法流程图如下：
 
优化算法流程图

首先初始化粒子群初始粒子，并根据初始化粒子进行拍照，同时计算相应目标函数值；根据目标函数取值的大小排序，更新粒子；保存局部最优目标函数值所对应的打光参数值，并更新全局最优值；判断是否满足停止条件，不满足则返回根据更新的参数重新拍照，否则输出最优参数。结合打光设备的优化处理过程如下：（1）以设备复位点为起点，左右等间距偏置，共采集10个随机数据点为粒子群优化的起始值，每个数据点为三个维度（角度、纵向高度、横向距离）。（2）根据参数移动设备并拍摄照片，同时计算每个照片的清晰度目标函数值。（3）根据目标函数值的大小，依据粒子群更新算法，更新粒子。（4）保存更新过程中的局部最优值，同时更新全局最优粒子。（5）判断是否满足迭代停止条件（迭代次数大于15或连续三次目标函数变化值小于给定阈值），如果满足条件，输出最优粒子值，否则根据更新后的粒子重新拍照，进入下一轮的迭代。每次迭代更新一次每个粒子的值，并保存每个粒子更新路径中的最优值和总体的最优值，以保证总体往最优方向进行优化。
在打光优化算法代码中，主要说明优化过程，不涉及到打光设备的控制模块。算法流程已在打光参数优化算流程图中说明，代码主要包含两部分，第一部分为粒子群粒子初始化和迭代更新部分。
粒子群初始化部分主要是随机生成初始化粒子，并将初始化粒子作为打光设备的初始化参数进行图像数据采集，然后计算在不同参数下的优化目标函数值，用于初始化局部最后粒子与全局最优粒子。代码中主要先对三个ROI区域进行分别计算图像清晰度，然后通过累计最后形成一个目标函数进行统一表达。
粒子更新部分主要是将更新的粒子作为打光参数优化设备的设备参数去重新采集图像进行计算，直到满足迭代停止条件。

数据增强：
1.微小角度的抖动
2.微小尺寸的抖动
3.高斯噪声的干扰
3.色彩扰动（包括亮度，对比度以及锐度）
